<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
  <link rel="stylesheet" href="/src.a2b27638.css"></head>

  <body>
    <div id="app"></div>

    <script src="/src.a2b27638.js"></script>

<!-- I learned to create a table from here 

https://www.w3schools.com/html/html_tables.asp

(I also copied some of the CSS code pieces from "table borders" section for the table to look better)

-->


<!-- 
  
  I used this video to help me get the form submit button working properly:
  
  https://www.youtube.com/watch?v=TCEgdiN0A8s
  
  
  
-->


<form action="" method="GET" onsubmit="checkData(event)">
      
      
      
      <fieldset style="width:15%">
        
        
        <legend> New table entry </legend>
        
        <p> </p>
        
        
        
        <label for="username"> Username </label>
        
        <input id="input-username" name="username" placeholder="username"> 
        
        <p> </p>
        
        
        <label for="email"> E-mail </label>
        
        <input id="input-email" name="email" placeholder="e-mail">
        
        <p> </p>
        
        
        <label for="address"> Address </label>
        
        <input id="input-address" name="address" placeholder="address">
        
        <p> </p>
        
        
        
        <input type="checkbox" id="input-admin" name="AdminUser" value="X" onchange="checkedBox()">
        
        <label for="AdminUser">  User is admin </label>
        
        <p> </p>
        
        <p> </p>
        
        <input type="file" id="input-image" name="Image">
        
        <p> </p>
        
        
        
        <script>var Admin = "-";

function checkedBox() {
  if (Admin == "X") {
    Admin = "-";
  } else {
    Admin = document.getElementById("input-admin").value;
  }
}

var index = 0;

function checkData(e) {
  e.preventDefault();
  var data = "False";
  var UserName = document.getElementById("input-username").value;
  table = document.getElementById("MainTable");

  for (var i = 1; i < table.getElementsByTagName("tr").length; i++) {
    name = table.getElementsByTagName("tr")[i].getElementsByTagName("td")[0].innerHTML;

    if (name == UserName) {
      data = "True";
      index = i;
      break;
    } else {
      continue;
    }
  }

  if (data == "False") {
    addData();
  } else {
    editData();
    data = "False";
  }
}

function editData() {
  var UserName = document.getElementById("input-username").value;
  var Email = document.getElementById("input-email").value;
  var Address = document.getElementById("input-address").value;
  table = document.getElementById("MainTable");
  table.getElementsByTagName("tr")[index].getElementsByTagName("td")[1].innerHTML = Email;
  table.getElementsByTagName("tr")[index].getElementsByTagName("td")[2].innerHTML = Address;
  table.getElementsByTagName("tr")[index].getElementsByTagName("td")[3].innerHTML = Admin;
}

function addData() {
  var NewImage = "";
  var UserName = document.getElementById("input-username").value;
  var Email = document.getElementById("input-email").value;
  var Address = document.getElementById("input-address").value;
  var Image = document.getElementById("input-image").src;
  reader = new FileReader();
  reader.addEventListener("load", function () {
    NewImage = reader.result;
  });
  table = document.getElementById("MainTable");
  NewRow = table.insertRow();
  cell1 = NewRow.insertCell(0);
  cell2 = NewRow.insertCell(1);
  cell3 = NewRow.insertCell(2);
  cell4 = NewRow.insertCell(3);
  cell5 = NewRow.insertCell(4);
  cell1.innerHTML = UserName;
  cell2.innerHTML = Email;
  cell3.innerHTML = Address;
  cell4.innerHTML = Admin;
  cell5.inn = NewImage;
  console.log(NewImage); // I used this page for inserting data into the table
  // https://www.w3schools.com/jsref/met_table_insertrow.asp
}

function emptyTable() {
  while (document.getElementById("MainTable").getElementsByTagName("tr")[1] !== "") {
    document.getElementById("MainTable").deleteRow(1);
  }
}</script>
        
        
        <input id="submit-data" type="submit" value="Add User">
        
        <input type="button" id="empty-table" value="Empty table" onclick="emptyTable()">
        
        
  
  
  
  </fieldset>
  
  
  
  </form>


<p> </p>

    <table id="MainTable" style="width:60%">
      <tr>
        <th>UserName</th>

        <th>Email</th>

        <th>Address</th>

        <th>Admin</th>
        
        <th>Image</th>
        
      </tr>
      
      <tr>
        
        <td> Daniil</td>
        <td> daniil.komov@student.lut.fi </td>
        
        <td> Metsäpellontie 42 </td>
        
        <td> X </td>
        
        <td>  </td>
        
      </tr>
        
      <tr>
        
        <td> Random dude</td>
        <td> idkWhatToAdd@gmail.com </td>
        
        <td> Kauppakatu 15 </td>
        
        <td> - </td>
        
        <td>  </td>
        
      </tr>
      
      
    <tr>
        
        <td> My good friend </td>
        <td> SorryDon'tRemember@gmail.com </td>
        
        <td> Myllymäenkatu 13 </td>
        
        <td> - </td>
        
        <td>  </td>
        
      </tr>
        
    </table>
    
    <p> </p>
    
    
    
    
  
  
  
  
  
  </body>
</html>
